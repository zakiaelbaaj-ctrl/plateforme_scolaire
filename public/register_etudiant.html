<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inscription Étudiant - Soutien Scolaire</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="logo">
    <img src="logo.png" alt="Logo">
</div>

<div class="form-container">
    <h1>Inscription Étudiant</h1>
    <form onsubmit="return registerEtudiant()">
        <input type="text" id="fullname" placeholder="Nom complet" required><br>
        <input type="email" id="email" placeholder="Email" required><br>
        <input type="password" id="password" placeholder="Mot de passe" required><br>
        <button type="submit">Créer mon compte</button>
    </form>
    <p><a href="login_etudiant.html">⬅️ Retour à la connexion</a></p>
</div>

<script>
// Fonction d'inscription étudiant
function registerEtudiant() {
    const fullname = document.getElementById("fullname").value.trim();
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    if(!fullname || !email || !password){
        alert("Veuillez remplir tous les champs correctement.");
        return false;
    }

    // Récupérer les étudiants existants depuis localStorage
    const etudiants = JSON.parse(localStorage.getItem("etudiants") || "[]");

    // Vérifier si l'étudiant existe déjà
    const exists = etudiants.some(e => e.nom === fullname || e.email === email);
    if(exists){
        alert("⚠️ Un étudiant avec ce nom ou email existe déjà !");
        return false;
    }

    // Créer le nouvel étudiant
    const newEtudiant = {
        nom: fullname,
        email: email,
        password: password,
        statut: "actif", // par défaut validé
        date_inscription: new Date().toISOString().split('T')[0] // AAAA-MM-JJ
    };

    // Ajouter au tableau
    etudiants.push(newEtudiant);

    // Sauvegarder dans localStorage
    localStorage.setItem("etudiants", JSON.stringify(etudiants));

    alert("✅ Inscription réussie ! Vous pouvez maintenant vous connecter.");
    window.location.href = "login_etudiant.html"; // Redirection vers le login
    return false; // Empêche le rechargement de la page
}
</script>

</body>
</html>
